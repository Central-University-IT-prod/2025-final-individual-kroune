# Структура проекта

**/app**
<br>
Основной модуль
<br>
<br>
**/super-financer-api**
Модуль для взаимодействия с нашим сервером, вынесен в отдельный модуль. В этом модуле нет android
зависимостей, что позволит
в будущем провести простую миграцию в отдельную библиотеку или даже kmp библиотеку (все зависимости
модуля либо уже кроссплатформенный, либо легко мигрировать их в мультиплатформу)
<br>
<br>
**/super-financer-ui**
Модуль для взаимодействия с модулем super-financer-api и отображения его данных (по сути туда
вынесен весь ui ленты).

<br>
<br>
Всего есть несколько основных директорий:
data/
components/
domain/
# Описания экранов:

### Экран с лентой

Этот экран был превращён из локальных заметок в онлайн мессенджер. Бэкенд был написан мной, а
обращения к нему были вынесены в отдельный модуль.

Для публикации своего поста требуется войти или зарегистрировать аккаунт. При нажатии на кнопку
создания поста пользователя перекидывает на экран входа в аккаунт откуда он может либо перейти на
экран регистрации, либо войти в аккаунт, либо вернуться назад (использую кнопку андроида "назад").

Длина заголовка - от 1 до 40 символов включительно
Длина текста - от 1 до 1024 символов включительно
Все теги должны быть не пустыми

Во время загрузки данных вместо постов отображается skeleton

Если пользователь находится в аккаунте, то у него появляется иконка аккаунта, при нажатии на неё
появляется кнопка с выходом из аккаунта

На странице присутствует pullToRefresh, изображения отображаются ввиде горизонтального списка,
загрузка ленты производится с использованием paging и lazyColumn

Для того чтобы поставить лайк посту, нужно 2 раза быстро на него нажать. Маркером того, что пост
лайкнут служит красная обводка.

Экран может обрабатывать отсутствие интернета, а так же различные ошибки. В случае ошибки загрузки
появляется snackbar notification с кнопкой для попытки загрузки ленты. При повторных ошибках лентах
так же появляется это snackbar notification.

### Экран с входом в аккаунт/регистрацией

Валидация параметров для входа вынесена в отдельный юзкейс для простоты дальнейшей разработки и
масштабирования.
[AuthRepository](app/src/main/java/io/github/kroune/superfinancer/domain/repositories/authRepository/AuthRepository.kt)

В качестве логина может использоваться текст длиной от 3 до 50 символов (включительно) состоящий
только из символов или цифр
В качестве пароля может использоваться текст длиной от 6 до 50 символов (включительно) состоящий
только из символов или цифр или спец символов ("!", ".", "?")

Считается, что пароли длиной 6 недостаточно безопасные, однако был сделан выбор в более удобного ux
для пользователя

Во время аутентификации с сервера получается jwt token, который используется для последующей
авторизации

Использование одного jwt token-а так же часто считается недостаточно безопасным, но времени на
полноценную bearer аутентификацию не хватило.

### Экран с финансами

Вверху страницы отображается sticky header с собранной стоимостью (в виде **(собранная сумма)**
/ **(нужная сумма)**), а так же процентом собранной суммы от нужной суммы (если целей еще нет, то
там отображено только название)

Чуть ниже отображен график с распределением доходов по целям (если целей еще нет, то там ничего не
отображено)

Дальше идет колонка, которая состоит из целей (с прогресс баром (цвет меняется по мере заполнения
желтый -> светло зеленый -> зеленый))

Дальше идет колонка, которая состоит из проведенных операций(отмечена цель, комментарий, сумма)

При вводе суммы принимается например 15f т.к. оно конвертируется во float

Данные хранятся в room

### Главный экран

Новости загружаются и отображаются с использованием lazyColumn и paging

На экране реализован PullToRefresh

Загруженные данные кэшируются и живут [NewFeedConstants.defaultTtl] времени
При нажатии на кнопку поиска раскрывается поиск

Экран может обрабатывать отсутствие интернета, а так же различные ошибки. В случае ошибки загрузки
появляется snackbar notification с ошибкой

При нажатии на новость открывается webview с ней

### WebView

Есть кнопка "поделиться". При нажатии на нее пользователя перекидывает на экран с лентой. При
нажатии на создание нового поста ссылка будем автоматически вставлена

# [Обоснование использование библиотек/решений](docs/LIBRARIES.md)
# [Дополнительные фичи](docs/FEATURES.md)
# [Обоснование использования экспериментальны api](docs/EXPERIMENTAL.md)
